def fifo_page_replacement(pages, limit):
    memory=[]
    faults=0

    for page in pages:
        if page not in memory:
            if len(memory) == limit:
                memory.pop(0)
            memory.append(page)
            faults += 1
        print(f"Page: {page} -> {memory}")
    print(f"\nFIFO Page Faults: {faults}")

def lru_page_replacement(pages, limit):
    memory = []
    faults = 0
    
    for page in pages:
        if page not in memory:
            if len(memory) == limit:
                memory.pop(0)  
            faults += 1
        else:
            memory.remove(page)  
                   
        memory.append(page)  
        print(f"Page {page} -> {memory}")

    print(f"\nLRU Page Faults: {faults}")

def optimal_page_replacement(pages, limit):
    memory = []
    faults = 0

    for i in range(len(pages)):
        page = pages[i]
        if page not in memory:
            if len(memory) < limit:
                memory.append(page)
            else:
                
                future_uses = []
                for mem_page in memory:
                    if mem_page in pages[i+1:]:
                        next_use = pages[i+1:].index(mem_page)
                    else:
                        next_use = float('inf')  
                    future_uses.append(next_use)
                
                index_to_replace = future_uses.index(max(future_uses))
                memory[index_to_replace] = page
            faults += 1
        print(f"Page {page} -> {memory}")
    
    print(f"\nOptimal Page Faults: {faults}")


#pages = [7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2]
pages=[1,2,1,3,4]
limit = 4
fifo_page_replacement(pages, limit)

print("")

lru_page_replacement(pages, limit)
